<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Paunang Pagsusulit</title>

        <link rel="stylesheet" href="css-files/paunangPagsusulit.css">
        <link rel="stylesheet" href="css-files/preloader.css">
    </head>

    <body>
        <!-- Loading Screen -->
        <div id="loader">
            <div class="spinner"></div>
            <div class="loading-text">Loading...</div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress"></div>
            </div>
        </div>

        <!-- Intro screen -->
        <div id="introScreen" class="intro-screen">
            <div class="intro-content">
                <h1 class="sword">⚔️</h1>
                <h1>Paunang Pagsusulit</h1>
                <p>Para sa pinakamahusay na karanasan, kailangan itong buksan sa fullscreen mode.</p>
                <button id="startQuizBtn" class="btn">Simulan ang Pagsusulit</button>
            </div>
        </div>

        <div id="loadercontent">
            <audio id="bgMusic" loop preload="auto">
                <source src="audios/paunangpagsusulitbgmusic.mp3" type="audio/mpeg">
                <source src="audios/paunangpagsusulitbgmusic.flac" type="audio/flac">
                Your browser does not support the audio element.
            </audio>

            <!-- Main quiz content - initially hidden -->
            <div id="quizContent" class="hidden">
                <div class="parchment-bg"></div>
                
                <div class="container">
                    <div class="game-header">
                        <h1 class="game-title">⚔️ Paunang Pagsusulit ⚔️</h1>
                        <p class="game-subtitle">Hinahamon ko ang talas ng iyong kaalaman!</p>
                    </div>
                    
                    <div class="stats-panel">
                        <div class="stat-card">
                            <div class="stat-label">Katanungan</div>
                            <div class="stat-value" id="questionCounter">1 / 10</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Iskor</div>
                            <div class="stat-value" id="scoreDisplay">0</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Oras</div>
                            <div class="stat-value timer" id="timeDisplay">30</div>
                        </div>
                    </div>
                    
                    <div id="gameArea">
                        <div class="question-card">
                            <div class="question-number" id="questionNumber">Katanungan 1 sa 10</div>
                            <div class="question-text" id="questionText">Naglalakbay pa...</div>
                            <div class="answers-grid" id="answersGrid">
                                <!-- Answers will be populated by JavaScript -->
                            </div>
                        </div>
                        
                        <div class="control-panel">
                            <button class="btn" id="nextBtn" disabled>Kasunod na Tanong</button>
                        </div>
                    </div>
                    
                    <div id="resultsArea" class="hidden">
                        <div class="results-panel">
                            <h2 class="results-title">Nalagpasan mo ang aking hamon!</h2>
                            <div class="final-score" id="finalScore">Iskor: 0/10</div>
                            <div class="rank-title" id="rankTitle">Napakahina!</div>
                            <div class="rank-description" id="rankDescription">Tiyak na marami kang matututunan sa ating paglalakbay!</div>
                            <div class="control-panel">
                                <button href="paunangPagsusulit.html" class="btn" id="playAgainBtn" style="text-decoration : none; background: #ffffff; color: #ff006e;">Subukang Muli</button>
                                <button class="btn"><a href="aralin1.html" style="text-decoration: none; color: #ffffff;">Simulan ang Paglalakbay</a></button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Fullscreen exit confirmation modal -->
                <div id="exitFsModal" class="fs-modal hidden" aria-hidden="true">
                    <div class="fs-modal-content" role="dialog" aria-modal="true" aria-labelledby="fsModalTitle">
                        <h2 id="fsModalTitle">Nais mong lumabas?</h2>
                        <p>Kung ipagpapatuloy mo ang paglabas ng fullscreen, ibabalik ka sa pangunahing pahina.</p>
                        <div class="fs-modal-actions">
                            <button id="fsConfirmExit" class="btn">Oo, Lumabas</button>
                            <button id="fsCancelExit" class="btn">Magpatuloy</button>
                        </div>
                    </div>
                </div>

                <!-- Small banner if automatic fullscreen is blocked -->
                <div id="enterFsBanner" class="enter-fs-banner hidden" aria-hidden="true">
                    <div class="enter-fs-inner">
                        <p>Tap para mag-fullscreen para sa pinakamahusay na karanasan</p>
                        <button id="enterFsBtn" class="btn">Enter Fullscreen</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Add Tone.js before your scripts -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
        <!-- JS FILE -->
        <script src="js-files/paunangPagsusulit.js"></script>
        <script src="js-files/fullscreen-handler.js"></script>
        <script src="js-files/preloader.js"></script>
    </body>
</html>