<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pangwakas na Pagsusulit</title>
    <link rel="stylesheet" href="css-files/pangwakasPagsusulit.css">
    <link rel="stylesheet" href="css-files/preloader.css">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loader">
        <div class="spinner"></div>
        <div class="loading-text">Loading...</div>
        <div class="progress-bar">
            <div class="progress-fill" id="progress"></div>
        </div>
    </div>

    <!-- Intro screen -->
    <div id="introScreen" class="intro-screen">
        <div class="intro-content">
            <h1 class="sword">⚔️</h1>
            <h1>Pangwakas na Pagsusulit</h1>
            <p>Para sa pinakamahusay na karanasan, kailangan itong buksan sa fullscreen mode.</p>
            <button id="startQuizBtn" class="btn">Simulan ang Pagsusulit</button>
        </div>
    </div>

    <div id="loadercontent">
        <!-- Main quiz content - initially hidden -->
        <div id="quizContent" class="hidden">
            <div class="container">
                <div class="game-header">
                    <h1 class="game-title">Pangwakas na Pagsusulit</h1>
                    <p class="game-subtitle">Sukatin natin ang iyong kaalaman!</p>
                </div>
            
            <div class="quiz-container" id="quizContainer">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                
                <div class="question-container" id="questionContainer">
                    <div class="question-number" id="questionNumber">Tanong 1 sa 1</div>
                    <div class="question-text" id="questionText">
                        In medieval times, what was the primary weapon used by knights in mounted combat?
                    </div>
                    
                    <div class="answers-grid" id="answersGrid">
                        <div class="answer-option" data-answer="0">
                            <div class="answer-text">Sword</div>
                        </div>
                        <div class="answer-option" data-answer="1">
                            <div class="answer-text">Lance</div>
                        </div>
                        <div class="answer-option" data-answer="2">
                            <div class="answer-text">Crossbow</div>
                        </div>
                        <div class="answer-option" data-answer="3">
                            <div class="answer-text">Mace</div>
                        </div>
                    </div>
                </div>
                
                <div class="controls">
                    <div class="score-display" id="scoreDisplay">Iskor: 0</div>
                    <button class="btn" id="submitBtn" disabled>Ipasa</button>
                    <button class="btn" id="nextBtn" style="display: none;">Sumunod</button>
                </div>
            </div>
            
            <div class="game-over" id="gameOver" style="display: none;">
                <div class="final-score" id="finalScore">Ang Iyong Huling Iskor: 0/1</div>
                <div class="rank-title" id="rankTitle">Antas ng Kasanayan:</div>
                <div class="rank-description" id="rankDescription">Walang Kasanayan</div>
                <div class="game-over-message" id="gameOverMessage">
                    Magiting na mandirigma, mahusay ang iyong pakikipaglaban! Patuloy ang iyong paglalakbay tungo sa karunungan...
                </div>
                <a href="pambungad.html"><button class="btn" id="restartBtn">Pumasyal</button></a>
            </div>

            <div id="explanationPopup" class="explanation-popup">
                <div class="explanation-content">
                    <h3>Paliwanag</h3>
                    <p id="explanationText"></p>
                    <button class="btn" id="continueBtn">Magpatuloy</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Keep only this part for the audio -->
    <audio id="bgMusic" loop>
        <source src="audios/paunangpagsusulitbgmusic.flac" type="audio/flac">
    </audio>

    <!-- Fullscreen exit confirmation modal -->
    <div id="exitFsModal" class="fs-modal hidden" aria-hidden="true">
        <div class="fs-modal-content" role="dialog" aria-modal="true" aria-labelledby="fsModalTitle">
            <h2 id="fsModalTitle">Nais mong lumabas?</h2>
            <p>Kung ipagpapatuloy mo ang paglabas ng fullscreen, ibabalik ka sa pangunahing pahina.</p>
            <div class="fs-modal-actions">
                <button id="fsConfirmExit" class="btn">Oo, Lumabas</button>
                <button id="fsCancelExit" class="btn">Magpatuloy</button>
            </div>
        </div>
    </div>

    <!-- Small banner if automatic fullscreen is blocked -->
    <div id="enterFsBanner" class="enter-fs-banner hidden" aria-hidden="true">
        <div class="enter-fs-inner">
            <p>Tap para mag-fullscreen para sa pinakamahusay na karanasan</p>
            <button id="enterFsBtn" class="btn">Enter Fullscreen</button>
        </div>
    </div>

    <script src="js-files/pangwakasPagsusulit.js"></script>
    <script src="js-files/fullscreen-handler-pangwakas.js"></script>
    <script src="js-files/preloader.js"></script>
</body>
</html>